<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda Médica</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <link rel="stylesheet" href="../../HEADER/header.css">

    <link rel="stylesheet" href="corpo.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header>
            <div class="logo">
                <a href="../Paginainicial/paginainicial.html">
                    <img src="../../IMG/LOGOS/LOGO_WELLDENTYS_SEM_SAUDE_ESTETICA_JPEG copy.png" alt="Logo da " class="logo-welldentys">
                </a>
            </div>
            
            <nav class="menu">
                <nav class="menu-primario">
                    <a href="../Paginainicial/paginainicial.html">Página Inicial</a>
                    <a href="../consultas/consultas.html">Consultas</a>
                    <a href="../Perfil/perfil.html">
                        <i class="bi bi-person-circle"></i>
                    </a>
                </nav>
            </nav>
        </header>
        
        <!-- Verifica se o médico está logado -->
        <div v-if="doctorName">
            <div class="header">
                <div>
                    <input type="date" id="consulta-date">
                    <button class="btn btn-success">Marcar Consulta</button>
                </div>
                <div>{{ doctorName }}</div> <!-- Exibe o nome do médico -->
            </div>

            <!-- Tabela de consultas -->
            <table class="table">
                <thead>
                    <tr>
                        <th>Hora</th>
                        <th>Paciente</th>
                        <th>Título</th>
                        <th>Seguro</th>
                        <th>Telefone</th>
                        <th>Tipo de Consulta</th> 
                        <th>Obs. importante</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(appointment, index) in appointments" :key="index">
                        <td>{{ appointment.time }}</td>
                        <td>{{ appointment.patient }}</td>
                        <td>{{ appointment.title }}</td>
                        <td>{{ appointment.insurance }}</td>
                        <td>{{ appointment.phone }}</td>
                        <td>{{ appointment.typeOfConsultation }}</td> 
                        <td>{{ appointment.notes }}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div v-else>
            <p>Por favor, faça login primeiro.</p>
        </div>
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                doctorName: '',
                appointments: [
                    { time: '8:00 H', status: 'confirmada', patient: 'Carlos Manuel Augusto Pereira', title: 'SR', insurance: 'Particular', phone: '999999999', typeOfConsultation: 'Consulta geral', notes: 'Ele não conseguiu concluir a consulta' },
                    { time: '8:30 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '9:00 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '9:30 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '10:00 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '10:30 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '11:00 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '11:30 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '14:00 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '14:30 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '15:00 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '15:30 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '16:00 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '16:30 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '17:00 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '17:30 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '18:00 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '18:30 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '19:00 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },
                    { time: '19:30 H', status: 'confirmada', patient: '', title: '', insurance: '', phone: '', typeOfConsultation: '', notes: '' },


                ]
            },
            created() {
                // Recupera o nome do utilizador após login
                this.doctorName = localStorage.getItem('userName');
                
                if (!this.doctorName) {
                    window.location.href = '../../login/login.html';  // Redireciona se não houver nome de utilizador
                }
            },
        });
    </script>
</body>
</html>
